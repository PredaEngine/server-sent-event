{"name":"Server-sent-event","tagline":"ServerSentEvent.php is a PHP class that allows you to emit events that can receiving Server-Sent Events in HTML5","body":"# HTML5\r\n```html\r\nvar source=new EventSource(\"demo_sse.php\");\r\nsource.onmessage=function(event)\r\n{\r\n\tdocument.getElementById(\"result\").innerHTML+=event.data + \"<br>\";\r\n};\r\n```\r\n\r\n# PHP\r\n### In demo_sse.php\r\n```php\r\n<?php\r\nheader(\"Content-Type: text/event-stream\");\r\nheader('Cache-Control: no-cache'); // recommended to prevent caching of event data.\r\n\r\ninclude 'class/ServerSentEvent.php';\r\n\r\n$event = ServerSentEvent::getInstance();\r\n$event->process(function($manager){\r\n\t$manager->send(array(\r\n\t\t'event' => 'ping',\r\n\t\t'data' => time(),\r\n\t\t));\r\n},20);\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}